language: c
sudo: required
services:
  - docker

env:
  - IMAGE=ubuntu:16.04
  - IMAGE=ubuntu:14.04

script:
  - ./build.sh
  - chmod +x ./gh-pages/index.html
  - docker run -it --name yap.sh -v "$PWD/gh-pages/index.html:/yap.sh" "$IMAGE" /yap.sh
  - docker start -ia yap.sh

jobs:
  include:
    - stage: deploy
      local-dir: "./gh-pages"
      provider: pages
      github-token: $GITHUB_TOKEN
      name: Chanwoong Kim
      email: chanwoong@chanwoong.kim
      on:
        branch: master
